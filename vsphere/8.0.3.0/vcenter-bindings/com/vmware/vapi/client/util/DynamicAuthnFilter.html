<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DynamicAuthnFilter</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DynamicAuthnFilter";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamicAuthnFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/vmware/vapi/client/util/SecurityContextAcquisitionError.html" title="class in com.vmware.vapi.client.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/vmware/vapi/client/util/DynamicAuthnFilter.html" target="_top">Frames</a></li>
<li><a href="DynamicAuthnFilter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.vmware.vapi.client.util</div>
<h2 title="Class DynamicAuthnFilter" class="title">Class DynamicAuthnFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>DecoratorApiProvider</li>
<li>
<ul class="inheritance">
<li>com.vmware.vapi.client.util.DynamicAuthnFilter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DynamicAuthnFilter</span>
extends DecoratorApiProvider</pre>
<div class="block">Filter that can be used to acquire on-demand security context for requests.
 This filter is to be used as decorator of the client <a href="../../../../../com/vmware/vapi/core/ApiProvider.html" title="interface in com.vmware.vapi.core"><code>ApiProvider</code></a> upon
 which the <code>com.vmware.vapi.internal.bindings.Stub</code> classes are
 Instantiated.
 <p>
 The filter relies on externally provided <code>Supplier</code> of
 <a href="../../../../../com/vmware/vapi/core/ExecutionContext.SecurityContext.html" title="interface in com.vmware.vapi.core"><code>ExecutionContext.SecurityContext</code></a>s. To allow for
 efficient operation a <code>CompletionStage</code> is expected from the supplier.
 <p>
 Supplier will be invoked once on the first call to obtain security context
 and will be invoked subsequently when <a href="../../../../../com/vmware/vapi/std/errors/Unauthenticated.html" title="class in com.vmware.vapi.std.errors"><code>Unauthenticated</code></a> exception is
 encountered from the remote service.
 <p>
 <a href="../../../../../com/vmware/vapi/client/util/SecurityContextAcquisitionError.html" title="class in com.vmware.vapi.client.util"><code>SecurityContextAcquisitionError</code></a> will be returned when the filter
 cannot obtain authentication token with the provided <code>Supplier</code>.
 <p>
 Requests failing with <a href="../../../../../com/vmware/vapi/std/errors/Unauthenticated.html" title="class in com.vmware.vapi.std.errors"><code>Unauthenticated</code></a> errors will be retried only
 once with new credential. If <a href="../../../../../com/vmware/vapi/std/errors/Unauthenticated.html" title="class in com.vmware.vapi.std.errors"><code>Unauthenticated</code></a> is encountered with the
 new credential the error will be returned in the bindings tier.
 <p>
 Calls waiting on a failing future before the timeout for refreshing failed
 future lapse will fail with no retry. If multiple retries are to be made to
 acquire credential this is to be implemented in the future logic.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/vmware/vapi/client/util/DynamicAuthnFilter.html#DynamicAuthnFilter-com.vmware.vapi.core.ApiProvider-java.util.function.Supplier-long-">DynamicAuthnFilter</a></span>(<a href="../../../../../com/vmware/vapi/core/ApiProvider.html" title="interface in com.vmware.vapi.core">ApiProvider</a>&nbsp;decoratedProvider,
                  java.util.function.Supplier&lt;java.util.concurrent.CompletionStage&lt;<a href="../../../../../com/vmware/vapi/core/ExecutionContext.SecurityContext.html" title="interface in com.vmware.vapi.core">ExecutionContext.SecurityContext</a>&gt;&gt;&nbsp;supplier,
                  long&nbsp;timeoutMs)</code>
<div class="block">Creates a new authentication filter that can be used to create stub that
 will have all their calls authenticated</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/vmware/vapi/client/util/DynamicAuthnFilter.html#invoke-java.lang.String-java.lang.String-com.vmware.vapi.data.DataValue-com.vmware.vapi.core.ExecutionContext-com.vmware.vapi.core.AsyncHandle-">invoke</a></span>(java.lang.String&nbsp;service,
      java.lang.String&nbsp;operation,
      <a href="../../../../../com/vmware/vapi/data/DataValue.html" title="interface in com.vmware.vapi.data">DataValue</a>&nbsp;input,
      <a href="../../../../../com/vmware/vapi/core/ExecutionContext.html" title="class in com.vmware.vapi.core">ExecutionContext</a>&nbsp;ctx,
      <a href="../../../../../com/vmware/vapi/core/AsyncHandle.html" title="class in com.vmware.vapi.core">AsyncHandle</a>&lt;<a href="../../../../../com/vmware/vapi/core/MethodResult.html" title="class in com.vmware.vapi.core">MethodResult</a>&gt;&nbsp;asyncHandle)</code>
<div class="block">Invokes the decorated provider and in case of <a href="../../../../../com/vmware/vapi/std/errors/Unauthenticated.html" title="class in com.vmware.vapi.std.errors"><code>Unauthenticated</code></a>
 error retries the request with refreshed <a href="../../../../../com/vmware/vapi/core/ExecutionContext.SecurityContext.html" title="interface in com.vmware.vapi.core"><code>ExecutionContext.SecurityContext</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/vmware/vapi/client/util/DynamicAuthnFilter.html#invokeNext-java.lang.String-java.lang.String-com.vmware.vapi.data.DataValue-com.vmware.vapi.core.ExecutionContext-com.vmware.vapi.core.AsyncHandle-">invokeNext</a></span>(java.lang.String&nbsp;service,
          java.lang.String&nbsp;operation,
          <a href="../../../../../com/vmware/vapi/data/DataValue.html" title="interface in com.vmware.vapi.data">DataValue</a>&nbsp;input,
          <a href="../../../../../com/vmware/vapi/core/ExecutionContext.html" title="class in com.vmware.vapi.core">ExecutionContext</a>&nbsp;ctx,
          <a href="../../../../../com/vmware/vapi/core/AsyncHandle.html" title="class in com.vmware.vapi.core">AsyncHandle</a>&lt;<a href="../../../../../com/vmware/vapi/core/MethodResult.html" title="class in com.vmware.vapi.core">MethodResult</a>&gt;&nbsp;handle)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DynamicAuthnFilter-com.vmware.vapi.core.ApiProvider-java.util.function.Supplier-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DynamicAuthnFilter</h4>
<pre>public&nbsp;DynamicAuthnFilter(<a href="../../../../../com/vmware/vapi/core/ApiProvider.html" title="interface in com.vmware.vapi.core">ApiProvider</a>&nbsp;decoratedProvider,
                          java.util.function.Supplier&lt;java.util.concurrent.CompletionStage&lt;<a href="../../../../../com/vmware/vapi/core/ExecutionContext.SecurityContext.html" title="interface in com.vmware.vapi.core">ExecutionContext.SecurityContext</a>&gt;&gt;&nbsp;supplier,
                          long&nbsp;timeoutMs)</pre>
<div class="block">Creates a new authentication filter that can be used to create stub that
 will have all their calls authenticated</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>decoratedProvider</code> - <a href="../../../../../com/vmware/vapi/core/ApiProvider.html" title="interface in com.vmware.vapi.core"><code>ApiProvider</code></a> that invokes the real API.
        Typically obtained from a connection.</dd>
<dd><code>supplier</code> - whenever new security context is needed this will be
        called to obtain a new <code>CompletionStage</code> that will deliver
        the context. It is expected that this operation is relatively
        fast. While the completion stage may take time to acquire the
        actual <a href="../../../../../com/vmware/vapi/core/ExecutionContext.SecurityContext.html" title="interface in com.vmware.vapi.core"><code>ExecutionContext.SecurityContext</code></a>.
        <p>
        Supplier will be called on the first request and after
        <a href="../../../../../com/vmware/vapi/std/errors/Unauthenticated.html" title="class in com.vmware.vapi.std.errors"><code>Unauthenticated</code></a> errors are reported from the API.</dd>
<dd><code>timeoutMs</code> - is the interval after acquisition of token fails until
        refresh is attempted. Positive number is required.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="invoke-java.lang.String-java.lang.String-com.vmware.vapi.data.DataValue-com.vmware.vapi.core.ExecutionContext-com.vmware.vapi.core.AsyncHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invoke</h4>
<pre>public&nbsp;void&nbsp;invoke(java.lang.String&nbsp;service,
                   java.lang.String&nbsp;operation,
                   <a href="../../../../../com/vmware/vapi/data/DataValue.html" title="interface in com.vmware.vapi.data">DataValue</a>&nbsp;input,
                   <a href="../../../../../com/vmware/vapi/core/ExecutionContext.html" title="class in com.vmware.vapi.core">ExecutionContext</a>&nbsp;ctx,
                   <a href="../../../../../com/vmware/vapi/core/AsyncHandle.html" title="class in com.vmware.vapi.core">AsyncHandle</a>&lt;<a href="../../../../../com/vmware/vapi/core/MethodResult.html" title="class in com.vmware.vapi.core">MethodResult</a>&gt;&nbsp;asyncHandle)</pre>
<div class="block">Invokes the decorated provider and in case of <a href="../../../../../com/vmware/vapi/std/errors/Unauthenticated.html" title="class in com.vmware.vapi.std.errors"><code>Unauthenticated</code></a>
 error retries the request with refreshed <a href="../../../../../com/vmware/vapi/core/ExecutionContext.SecurityContext.html" title="interface in com.vmware.vapi.core"><code>ExecutionContext.SecurityContext</code></a>. See
 <a href="../../../../../com/vmware/vapi/core/ApiProvider.html#invoke-java.lang.String-java.lang.String-com.vmware.vapi.data.DataValue-com.vmware.vapi.core.ExecutionContext-com.vmware.vapi.core.AsyncHandle-"><code>ApiProvider.invoke(String, String, DataValue, ExecutionContext, AsyncHandle)</code></a>
 for details on the parameters and operation.</div>
</li>
</ul>
<a name="invokeNext-java.lang.String-java.lang.String-com.vmware.vapi.data.DataValue-com.vmware.vapi.core.ExecutionContext-com.vmware.vapi.core.AsyncHandle-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invokeNext</h4>
<pre>protected&nbsp;void&nbsp;invokeNext(java.lang.String&nbsp;service,
                          java.lang.String&nbsp;operation,
                          <a href="../../../../../com/vmware/vapi/data/DataValue.html" title="interface in com.vmware.vapi.data">DataValue</a>&nbsp;input,
                          <a href="../../../../../com/vmware/vapi/core/ExecutionContext.html" title="class in com.vmware.vapi.core">ExecutionContext</a>&nbsp;ctx,
                          <a href="../../../../../com/vmware/vapi/core/AsyncHandle.html" title="class in com.vmware.vapi.core">AsyncHandle</a>&lt;<a href="../../../../../com/vmware/vapi/core/MethodResult.html" title="class in com.vmware.vapi.core">MethodResult</a>&gt;&nbsp;handle)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamicAuthnFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/vmware/vapi/client/util/SecurityContextAcquisitionError.html" title="class in com.vmware.vapi.client.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/vmware/vapi/client/util/DynamicAuthnFilter.html" target="_top">Frames</a></li>
<li><a href="DynamicAuthnFilter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
